<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Gráficos</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Gráficos científicos no R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa fa fa-home"></span>
     
    Introdução
  </a>
</li>
<li>
  <a href="code.html">
    <span class="fa fa fa fa-file-code-o"></span>
     
    o gráfico em ggplot2
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tipos de gráficos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="temporal.html">Série temporal</a>
    </li>
    <li>
      <a href="experimento.html">Experimentos</a>
    </li>
    <li>
      <a href="mapa.html">Mapas</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/emdelponte/research-compendium-website">
    <span class="fa fa-github-square"></span>
     
    source
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Gráficos</h1>

</div>


<div id="introducao" class="section level1">
<h1>Introdução</h1>
<p>Vários pacotes do R serão utilizadas neste exercíco e carregados no ambiente logo antes do local onde as funções dos mesmos serão utilizadas. O pacote <code>ggplot2</code> pode ser carregado individualmente com a função <code>library(ggplot2)</code>.</p>
<p>Alternativamente, pode-se carregar o pacote <a href="https://www.tidyverse.org/">tidyverse</a>, que é uma suíte de vários pacotes desenhados para ciência de dados e que compartilham uma filosofia comum de design, gramática e estrutura de dados.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<div id="o-grafico-em-ggplot2" class="section level2">
<h2>O gráfico em ggplot2</h2>
<p>Para criar um gráfico obvivamente precisamos de um conjunto de dados. As possibilidades são várias:</p>
<ul>
<li>Criar um conjunto de dados entrando os valores manualmente</li>
<li>Simular um um conjunto de valores</li>
<li>Importar dados de um arquivo externo (excel, csv, txt, etc.)</li>
<li>Carregar dados já disponíveis em pacotes</li>
</ul>
<p>No R, o pacote <em>datasets</em> contém diversos conjuntos de dados que podem ser utilizados para fins didáticos. Neste tutorial, utilizaremos dados que estão disponíveis no pacote <em>agridat</em>, que é uma coleção de dados de experimentos agrícolas. Após carregar o pacote, basta apenas criar o data frame dos dados atribuindo um nome ao objeto, no caso chamaremos de <code>dat1</code>.</p>
<pre class="r"><code>library(agridat)
dat1 &lt;- nass.soybean</code></pre>
<div id="definindo-o-plano" class="section level3">
<h3>Definindo o plano</h3>
<p>A primeira função que inicializa um objeto ggplot é a <code>ggplot</code> onde se define o conjunto de dados e elementos de estéticas do gráfico que será aplicado nas subsequentes camadas - a menos que tenha uma outra especificação na camada específica, que se sobrepõe à estética definida em <code>ggplot()</code>. Um exemplo seria definições de cores, formas, etc. O primeiro elemento da função é o conjunto de dados. Se usado sem outros elementos, o gráfico tem apenas o plano básico, sem qualquer elemento.</p>
<pre class="r"><code>ggplot(dat1)</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>A programação de gráficos em <em>ggplot2</em> é feita na forma de camadas que são adicionadas (por isso o sinal de +) ao plano básico do gráfico gerado pela função <code>ggplot()</code>. Antes de iniciarmos o gráfico, veja abaixo dois estilos de programar. A primeira é utilizando o símbolos de <a href="https://style.tidyverse.org/pipes.html">pipe</a> e a segunda da maneira convencial. As duas geram o mesmo resultado.</p>
<pre class="r"><code>g1 &lt;- dat1 %&gt;%
  ggplot(aes(state, yield))</code></pre>
<pre class="r"><code>g1 &lt;- ggplot(dat1, aes(state,yield))</code></pre>
<p>Notaram a diferença? é muito sutil, apenas a primeira linha que entra o conjunto de dados seguido do sinal do pipes (%&gt;%). Com isso, não há necessidade de colocar o nome do dataframe dentro da função ggplot. Mais em frente veremos as vantagens no uso de <em>pipes</em> quando precisaremos alterar algo no conjunto de dados antes de montar o gráfico.</p>
<p>Agora iremos verificar o resultado do objeto g1 que foi criado. Para isso, basta digitar o nome do objeto.</p>
<pre class="r"><code>g1</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Como podem notar, a função <code>ggplot()</code> define o plano com os eixos x e y, no caso “state” e “yield”, respectivamente. Ainda não foi possível visualizar os dados de “yield” pois a camada que define a forma geométrica do objeto e outros elementos ainda não foi adicionada. Veja na <a href="https://ggplot2.tidyverse.org/reference/index.html">referência</a> todos os tipos de camadas que combinam dados, estética do mapeamento dos objetivos, um objeto geométrico, uma estatística e uma posição de ajuste.</p>
</div>
<div id="adicionando-camadas" class="section level3">
<h3>Adicionando camadas</h3>
<p>Para mostrar os dados, precisamos adicionar as camadas no gráfico. Para barras verticais, usaremos a função <code>geom_col()</code>. Uma vez que o objeto g1 já contém o plano, basta apenas adicionar, com um sinal positivo (+), a camada com as barras verticais.</p>
<pre class="r"><code>g1 +
  geom_col()</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>O gráfico de barras é gerado automaticamente. Note alguns problemas. Há uma sobreposição no nome dos estados no eixo x e o valor de produtividade em bushels é extremante alto. Qual o motivo? lembre que para cada estado há valores de produtividade de 1924 até 2011! Há duas alternativas nesse caso, dependendo da pergunta que queremos fazer: 1) calcular o valor médio de produtividados no anos todos (ou em um período de tempo) ou 2) selecionar apenas um ano. Por ora vamos utilizar apenas os dados do ano mais recente, 2011.</p>
<p>Precisaremos lançar mão de algumas funções do tidyverse para selecionar os dados que queremos. No caso a função <code>filter()</code> para filtrar apenas o ano desejado e <code>mutate</code> para transformar os valores de <em>bushels per acre</em> para toneladas por hectare. Adicionaremos uma função no final que define atributos do tema <code>theme()</code>, no caso para fazer a rotação do texto dos elementos do eixo x em 50 graus.</p>
<blockquote>
<p>Note que usando pipes não precisamos atualizar os objetos, apenas programar linha a linha como se fosse uma receita de bolo. Aprenda mais sobre pipe <a href="https://www.datacamp.com/community/tutorials/pipe-r-tutorial">aqui</a></p>
</blockquote>
<pre class="r"><code>g11 &lt;- dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(state, yield2)) + # usamos agora yield2 no y
  geom_col() +
  theme(axis.text.x = element_text(angle = 50, hjust = 1))
g11</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Quando os nomes dos elementos são relativamente grandes, o ideal é inverter os eixos e mostrar as barras na horizontal. Isso é feito usando-se a função <code>coord_flip()</code>.</p>
<pre class="r"><code>g11 +
  coord_flip()</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="ajustes-de-layout" class="section level3">
<h3>Ajustes de layout</h3>
<p>A visualização ficou melhor mas ainda não está bom. Não é fácil identificar os estados com maior ou menor produtividade. Para facilitar, um procedimento simples é ordenar os estados segundo os níveis de produtividade usando a função <code>reorder()</code> na estética do gráfico <code>reorder(state, yield2)</code>. Iremos também retirar o atributo que rotaciona o elemento de texto do eixo x (agora a produtividade).</p>
<pre class="r"><code> g12 &lt;- dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(reorder(state, yield2), yield2)) +
  geom_col() +
    coord_flip()

g12</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Note que o gráfico de barras sempre deve iniciar no valor mínimo da escala, onde aqui o natural é o valor zero. No entanto, considerando que mais da metade da área do gráfico contém área com barras, o ideal nesse caso é usar um gráfico de pontos, o qual não exige que tenha um baseline e facilitará a discriminação entre os estados. Para isso basta usar <code>geom_point()</code> ao invés de <code>geom_col</code>. Como não precisamos de um gráfico muito largo, considerando a amplitude da produtividade, vamos ajudar o tamanho do gráfico nos atributos do chunk <code>{r fig.height=7, fig.width=5}</code>.</p>
<pre class="r"><code>dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(reorder(state, yield2), yield2)) +
  geom_point() +
  coord_flip() </code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-11-1.png" width="336" /></p>
</div>
<div id="adicionando-variavel" class="section level3">
<h3>Adicionando variável</h3>
<p>No gráfico anterior mostramos os valores de produtividade por estado americano no ano de 2011. No entanto, não sabemos se os estados com maior produtividade são também os maiores produtores em termos de área plantada. Essa informação consta no conjunto de dados na variável <em>acres</em>.</p>
<p>Podemos mostrar uma segunda variável que será identificada com uma coloração, tamanho ou forma do símbolo dos pontos, dependendo da situação, auxiliado por uma legenda. Basta adicionar na estética do <code>ggplot()</code> o atributo <code>color = acres</code>. A paleta de cores para valores contínuos é definida automaticamente, mas pode ser modificada posteriormente. Em <code>geom_point()</code> podemos aumentar o tamanho do ponto para facilitar a comparação.</p>
<pre class="r"><code>dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(reorder(state, yield2), yield2, color = acres)) +
  geom_point(size = 3) +
  coord_flip() </code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-12-1.png" width="528" /></p>
<p>Deve-se ter certo cuidado ao se utilizar cores devido a dificuldade de algumas pessoas em discriminar as tonalidades. Para o nosso caso, o melhor é utilizar tamanho diferente dos pontos em função do valor da variável. Para isso, usaremos o atributo <code>size</code> na estética do gráfico para a variável de interesse que no caso é <em>acres</em>. Vamos aproveitar e utilizar uma cor diferente para os pontos e retirar o tamanho anterior que havíamos definido em <code>geom_point</code>.</p>
<pre class="r"><code>dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(reorder(state, yield2), yield2, size = acres)) +
  geom_point(color = &quot;orange&quot;) +
  coord_flip()</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-13-1.png" width="528" /></p>
<p>Pronto, chegamos em um formato de gráfico que contém a informação que queremos apresentar. Na sequencia, iremos trabalhar na apresentação do gráfico objetivando a publicação. Antes disso, vamos transformar o valor de área plantada para hectares apenas incluindo a fórmula diretamente no atributo <code>size</code>.</p>
</div>
<div id="preparando-para-publicar" class="section level3">
<h3>Preparando para publicar</h3>
<p>Precisamos alterar os nomes das variáveis dos eixos, alterar o título da legenda eo adicionar título, subtítulo e rodapé no gráfico, o que é feito usando a função <code>labs</code>. A cor cinza do fundo gráfico pode ser trocada facilmente usando-se um dos vários temas do ggplot. Eu particularmente gosto do <code>theme_minimal()</code> que mantém o grid de maneira sutil e retira as bordas do gráfico. A posição da legenda pode ser alterada com o atributo de posição na função <code>theme()</code>. Por fim, nas opções do “chunk” definimos a largura e a altura da figura para melhor distribuir os elmentos dentro do gráfico.</p>
<pre class="r"><code>g13 &lt;- dat1 %&gt;%
  filter(year == &quot;2011&quot;) %&gt;%
  mutate(yield2 = yield * 0.0628) %&gt;%
  ggplot(aes(reorder(state, yield2), yield2, size = acres / 0.404686 / 1000000)) +
  geom_point(color = &quot;orange&quot;) +
  coord_flip() +
  labs(
    y = &quot;Produtividade (ton/ha)&quot;,
    x = &quot;&quot;,
    title = &quot;Produtividade media de milho&quot;,
    subtitle = &quot;Ano de 2011&quot;,
    caption = &quot;Fonte: NASS USDA&quot;, 
    size = &quot;Area plantada (ha)&quot;
  )+
  theme_minimal()+
  theme(legend.position = &quot;bottom&quot;)

g13</code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-14-1.png" width="480" /></p>
<p>Como última etapa precisamos salvar este gráfico em um formato de imagem, cuja melhor opção é o formato <em>PNG</em>. A função <code>ggsave()</code> permite também definir as dimensões do gráfico bem como a resolução da imagem.</p>
<pre class="r"><code>g13 </code></pre>
<p><img src="code_files/figure-html/unnamed-chunk-15-1.png" width="480" /></p>
<pre class="r"><code>ggsave(&quot;plots/g1.png&quot;, width = 5, height = 6, dpi = 600)</code></pre>
</div>
<div id="grafico-interativo" class="section level3">
<h3>Gráfico interativo</h3>
<p>Com gráfico feito em <em>ggplot2</em>, uma certa interatividade pode ser adicionada por meio do pacote <em>plotly</em>. A função <code>ggplotly()</code> transforma o gráfico para um gráfico <em>plotly</em>. Vejam como é fácil e o resultado ao invés de uma figura estática é um <em>widget</em> html que pode ser incorporado em páginas da web.</p>
<pre class="r"><code>library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>ggplotly(g13)</code></pre>
<div id="htmlwidget-037ff56be0043f17834c" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-037ff56be0043f17834c">{"x":{"data":[{"x":[2.0724,2.3864,2.4492,1.6956,1.3816,2.9516,2.826,3.1714,1.6956,2.4492,2.198,2.4178,2.7632,2.4178,2.4492,2.2922,3.3598,2.3236,2.7004,1.884,1.7898,2.983,0.8164,2.7632,1.57,2.3236,2.0096,1.1932,2.4492,2.7004,2.8888],"y":[10,15,18,5,3,28,26,30,6,19,11,16,24,17,20,12,31,13,22,8,7,29,1,25,4,14,9,2,21,23,27],"text":["reorder(state, yield2): Alabama<br />yield2: 2.0724<br />acres/0.404686/1e+06:  0.72896023","reorder(state, yield2): Arkansas<br />yield2: 2.3864<br />acres/0.404686/1e+06:  8.08033883","reorder(state, yield2): Delaware<br />yield2: 2.4492<br />acres/0.404686/1e+06:  0.41513667","reorder(state, yield2): Florida<br />yield2: 1.6956<br />acres/0.404686/1e+06:  0.03953683","reorder(state, yield2): Georgia<br />yield2: 1.3816<br />acres/0.404686/1e+06:  0.33359197","reorder(state, yield2): Illinois<br />yield2: 2.9516<br />acres/0.404686/1e+06: 21.89351744","reorder(state, yield2): Indiana<br />yield2: 2.8260<br />acres/0.404686/1e+06: 13.07186312","reorder(state, yield2): Iowa<br />yield2: 3.1714<br />acres/0.404686/1e+06: 22.80780655","reorder(state, yield2): Kansas<br />yield2: 1.6956<br />acres/0.404686/1e+06:  9.26644361","reorder(state, yield2): Kentucky<br />yield2: 2.4492<br />acres/0.404686/1e+06:  3.65715641","reorder(state, yield2): Louisiana<br />yield2: 2.1980<br />acres/0.404686/1e+06:  2.42163060","reorder(state, yield2): Maryland<br />yield2: 2.4178<br />acres/0.404686/1e+06:  1.14903901","reorder(state, yield2): Michigan<br />yield2: 2.7632<br />acres/0.404686/1e+06:  4.79384016","reorder(state, yield2): Minnesota<br />yield2: 2.4178<br />acres/0.404686/1e+06: 17.34678244","reorder(state, yield2): Mississippi<br />yield2: 2.4492<br />acres/0.404686/1e+06:  4.44789293","reorder(state, yield2): Missouri<br />yield2: 2.2922<br />acres/0.404686/1e+06: 12.84946848","reorder(state, yield2): Nebraska<br />yield2: 3.3598<br />acres/0.404686/1e+06: 11.93517937","reorder(state, yield2): New Jersey<br />yield2: 2.3236<br />acres/0.404686/1e+06:  0.21251044","reorder(state, yield2): New York<br />yield2: 2.7004<br />acres/0.404686/1e+06:  0.68448130","reorder(state, yield2): North Carolina<br />yield2: 1.8840<br />acres/0.404686/1e+06:  3.36063022","reorder(state, yield2): North Dakota<br />yield2: 1.7898<br />acres/0.404686/1e+06:  9.76065394","reorder(state, yield2): Ohio<br />yield2: 2.9830<br />acres/0.404686/1e+06: 11.21857440","reorder(state, yield2): Oklahoma<br />yield2: 0.8164<br />acres/0.404686/1e+06:  0.65482868","reorder(state, yield2): Pennsylvania<br />yield2: 2.7632<br />acres/0.404686/1e+06:  1.21081530","reorder(state, yield2): South Carolina<br />yield2: 1.5700<br />acres/0.404686/1e+06:  0.88957859","reorder(state, yield2): South Dakota<br />yield2: 2.3236<br />acres/0.404686/1e+06: 10.05718013","reorder(state, yield2): Tennessee<br />yield2: 2.0096<br />acres/0.404686/1e+06:  3.08881454","reorder(state, yield2): Texas<br />yield2: 1.1932<br />acres/0.404686/1e+06:  0.22239465","reorder(state, yield2): Virginia<br />yield2: 2.4492<br />acres/0.404686/1e+06:  1.35907840","reorder(state, yield2): West Virginia<br />yield2: 2.7004<br />acres/0.404686/1e+06:  0.04694998","reorder(state, yield2): Wisconsin<br />yield2: 2.8888<br />acres/0.404686/1e+06:  3.95368261"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","opacity":1,"size":[7.06793421394279,15.0098491040354,6.20672558802515,3.77952755905512,5.92714487762692,22.293848325644,18.0768094348963,22.6771653543307,15.8096645718363,11.3122845148484,9.89207065009359,7.95116529441692,12.41499698029,20.2557059499328,12.0948834574405,17.9542940495661,17.439079684481,5.42667485184196,6.96008812797383,10.9969653813985,16.1276405433288,17.0212571501766,6.88611148178995,8.06572909548071,7.43095468949221,16.3145549985164,10.6953048089409,5.47308244705167,8.32892674231955,4.12051944442998,11.6149245490431],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,165,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":92.7853881278539},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":"Produtividade media de milho","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.68923,3.48697],"tickmode":"array","ticktext":["1.0","1.5","2.0","2.5","3.0"],"tickvals":[1,1.5,2,2.5,3],"categoryorder":"array","categoryarray":["1.0","1.5","2.0","2.5","3.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"Produtividade (ton/ha)","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,31.6],"tickmode":"array","ticktext":["Oklahoma","Texas","Georgia","South Carolina","Florida","Kansas","North Dakota","North Carolina","Tennessee","Alabama","Louisiana","Missouri","New Jersey","South Dakota","Arkansas","Maryland","Minnesota","Delaware","Kentucky","Mississippi","Virginia","New York","West Virginia","Michigan","Pennsylvania","Indiana","Wisconsin","Illinois","Ohio","Iowa","Nebraska"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"categoryorder":"array","categoryarray":["Oklahoma","Texas","Georgia","South Carolina","Florida","Kansas","North Dakota","North Carolina","Tennessee","Alabama","Louisiana","Missouri","New Jersey","South Dakota","Arkansas","Maryland","Minnesota","Delaware","Kentucky","Mississippi","Virginia","New York","West Virginia","Michigan","Pennsylvania","Indiana","Wisconsin","Illinois","Ohio","Iowa","Nebraska"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"376a7de599ef":{"x":{},"y":{},"size":{},"type":"scatter"}},"cur_data":"376a7de599ef","visdat":{"376a7de599ef":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
</div>
</div>



Copyright 2017 Emerson Del Ponte


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
